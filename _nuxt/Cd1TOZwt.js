import{o as R}from"./C4kIlcjU.js";import{r as d,M as c}from"./BogysZ3r.js";const q=()=>{const a=d(R),s=c("offers-list",()=>[]),p=c("offers-filter",()=>({town:"",minRent:0,maxRent:5e5,type:[],purpose:""}));function r(){return p.value}function l(e){return e.length===0}function u(e){let t="/offers/";return e.town.length!==0&&(t=t+"l="+e.town),e.type.length!=0&&(t=t+"-c="+e.type.join(",")),e.purpose.length!==0&&(t=t+"-p="+e.purpose),t}function m(e){if(l(e.town))s.value=[];else{let t=a.value.filter(n=>n.town.name===e.town);e.type.length!=0&&(t=t.filter(n=>e.type.includes(n.type))),t.length!=0&&e.purpose!=""&&(t=t.filter(n=>n.purpose===e.purpose)),s.value=t}}function i(e){if(e.town!=""){let t=a.value.filter(n=>n.town.name.toLowerCase().includes(e.town.toLowerCase()));e.maxRent&&e.maxRent>=e.minRent&&(t=t.filter(n=>{let o=n.coldRent;return o>=e.minRent&&o<=e.maxRent})),e.type.length!=0&&(t=t.filter(n=>e.type.includes(n.type))),t.length!=0&&e.purpose!=""&&(t=t.filter(n=>n.purpose===e.purpose)),s.value=t}else s.value=[]}function g(e){if(e){const n=(e?.toString().replace(/^\/offers\//,"")).split("-"),o=n.find(f=>f.startsWith("c="))?.slice(2)||"",h=n.find(f=>f.startsWith("p="))?.slice(2)||"",w={town:n.find(f=>f.startsWith("l="))?.slice(2)||"",minRent:0,maxRent:5e5,type:o.length!==0?o.toLowerCase().split(","):[],purpose:h};i(w)}}return{offers:s,offerFilters:p,generateSlugByParams:u,getOffersBySlug:g,getOfferFilters:r,quickOffersSearch:m,filteredOffersSearch:i}};export{q as u};
