import{_ as Z}from"./DwufvpXN.js";import{_ as E}from"./Bm0Z8KqL.js";import{g as I,c as x,o as v,b,w as R,d as S,t as w,K as ee,j as te,r as M,q as _,D as se,F as T,p as U,n as re,N as L,O as ne,P as A,Q as z,R as oe,S as C,T as ie,e as F,U as ae,V as le,W as ce,J as de,H as ue,X as B,Y as me,a as u,B as N,m as f,s as H,_ as fe}from"./BogysZ3r.js";import{_ as ge,a as D}from"./Bz11v2CG.js";import{u as pe}from"./vXoiIfTS.js";import"./C4kIlcjU.js";import"./-cNX8MFJ.js";import"./CH9fIdmj.js";const he={class:"flex justify-start items-center"},_e=I({__name:"BaseNav",props:{text:String,path:{type:String,required:!0,default:"/"}},setup(e){return(t,r)=>{const s=E;return v(),x("div",he,[b(s,{to:e.path,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 transition"},{default:R(()=>[S(w(e.text),1)]),_:1},8,["to"])])}}}),ve=Object.assign(_e,{__name:"CTABaseNav"}),ye={class:"flex flex-wrap gap-1 my-2"},xe=["onClick"],we={__name:"BaseFilteringChips",props:ee({options:{type:Array,required:!0},category:{type:String,required:!0},itemsList:{type:Array,required:!0}},{modelValue:{type:Array,default:()=>[]},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,r=te(e,"modelValue"),s=M([]),n=M(t.category),i=c=>c.split("_").join(" ");function a(c){return s.value.includes(c)}function o(c){a(c)?s.value=s.value.filter(m=>m!==c):s.value=[...s.value,c]}const p=_(()=>s.value.length===0?t.itemsList:t.itemsList.filter(c=>s.value.map(m=>m.toLowerCase().split(" ").join("_")).includes(c[n.value].toLowerCase())));return se(p,c=>{r.value=c},{immediate:!0}),(c,m)=>(v(),x("div",ye,[(v(!0),x(T,null,U(e.options,d=>(v(),x("button",{key:d,onClick:y=>o(d),class:re(["px-4 py-1 capitalize rounded-full text-sm font-medium border transition focus:outline-none",a(d)?"bg-blue-100 text-blue-800 me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-blue-400 border border-blue-400":"bg-gray-100 text-gray-800 me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-gray-400 border border-gray-500"])},w(i(d)),11,xe))),128))]))}};async function be(e,t){return await ke(t).catch(s=>(console.error("Failed to get image meta for "+t,s+""),{width:0,height:0,ratio:0}))}async function ke(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,r)=>{const s=new Image;s.onload=()=>{const n={width:s.width,height:s.height,ratio:s.width/s.height};t(n)},s.onerror=n=>r(n),s.src=e})}function W(e){return(t=>t!==void 0?e[t]||t:e.missingValue)}function Pe(e={}){const t=e.formatter,r=e.keyMap&&typeof e.keyMap!="function"?W(e.keyMap):e.keyMap,s={};for(const n in e.valueMap){const i=n,a=e.valueMap[i];s[i]=typeof a=="object"?W(a):a}return n=>{const i=[];for(const a in n){const o=a;if(typeof n[o]>"u")continue;const p=typeof s[o]=="function"?s[o](n[o]):n[o];i.push([r?r(o):o,p])}return t?i.map(a=>t(...a)).join(e.joinWith??"&"):new URLSearchParams(i).toString()}}function $e(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const r of e.split(" ")){const s=Number.parseInt(r.replace("x",""));s&&t.add(s)}return Array.from(t)}function Se(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function j(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function Me(e){const t={};if(typeof e=="string")for(const r of e.split(/[\s,]+/).filter(s=>s)){const s=r.split(":");s.length!==2?t["1px"]=s[0].trim():t[s[0].trim()]=s[1].trim()}else Object.assign(t,e);return t}function je(e){const t={options:e},r=(n,i={})=>G(t,n,i),s=((n,i,a)=>r(n,L({modifiers:i},a)).url);for(const n in e.presets)s[n]=((i,a,o)=>s(i,a,{...e.presets[n],...o}));return s.options=e,s.getImage=r,s.getMeta=((n,i)=>qe(t,n,i)),s.getSizes=((n,i)=>ze(t,n,i)),t.$img=s,s}async function qe(e,t,r){const s=G(e,t,{...r});return typeof s.getMeta=="function"?await s.getMeta():await be(e,s.url)}function G(e,t,r){if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{setup:s,defaults:n}=Ie(e,r.provider||e.options.provider),i=s(),a=K(e,r.preset);if(t=A(t)?t:ne(t),!i.supportsAlias){for(const m in e.options.alias)if(t.startsWith(m)){const d=e.options.alias[m];d&&(t=z(d,t.slice(m.length)))}}if(i.validateDomains&&A(t)){const m=oe(t).host;if(!e.options.domains.find(d=>d===m))return{url:t}}const o=L(r,a,n),p={...o,modifiers:{...o.modifiers,width:o.modifiers?.width?j(o.modifiers.width):void 0,height:o.modifiers?.height?j(o.modifiers.height):void 0}},c=i.getImage(t,p,e);return c.format||=p.modifiers.format||"",c}function Ie(e,t){const r=e.options.providers[t];if(!r)throw new Error("Unknown provider: "+t);return r}function K(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function ze(e,t,r){const s=K(e,r.preset),n=L(r,s),i=j(n.modifiers?.width),a=j(n.modifiers?.height),o=n.sizes?Me(n.sizes):{},p=n.densities?.trim(),c=p?$e(p):e.options.densities;Se(c);const m=i&&a?a/i:0,d=[],y=[];if(Object.keys(o).length>=1){for(const g in o){const l=O(g,String(o[g]),a,m,e);if(l!==void 0){d.push({size:l.size,screenMaxWidth:l.screenMaxWidth,media:`(max-width: ${l.screenMaxWidth}px)`});for(const h of c)y.push({width:l._cWidth*h,src:V(e,t,r,l,h)})}}Ne(d)}else for(const g of c){const l=Object.keys(o)[0];let h=l?O(l,String(o[l]),a,m,e):void 0;h===void 0&&(h={size:"",screenMaxWidth:0,_cWidth:r.modifiers?.width,_cHeight:r.modifiers?.height}),y.push({width:g,src:V(e,t,r,h,g)})}Le(y);const $=y[y.length-1],k=d.length?d.map(g=>`${g.media?g.media+" ":""}${g.size}`).join(", "):void 0,P=k?"w":"x",q=y.map(g=>`${g.src} ${g.width}${P}`).join(", ");return{sizes:k,srcset:q,src:$?.src}}function O(e,t,r,s,n){const i=n.options.screens&&n.options.screens[e]||Number.parseInt(e),a=t.endsWith("vw");if(!a&&/^\d+$/.test(t)&&(t=t+"px"),!a&&!t.endsWith("px"))return;let o=Number.parseInt(t);if(!i||!o)return;a&&(o=Math.round(o/100*i));const p=s?Math.round(o*s):r;return{size:t,screenMaxWidth:i,_cWidth:o,_cHeight:p}}function V(e,t,r,s,n){return e.$img(t,{...r.modifiers,width:s._cWidth?s._cWidth*n:void 0,height:s._cHeight?s._cHeight*n:void 0},r)}function Ne(e){e.sort((r,s)=>r.screenMaxWidth-s.screenMaxWidth);let t=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.media===t&&e.splice(r,1),t=s.media}for(let r=0;r<e.length;r++)e[r].media=e[r+1]?.media||""}function Le(e){e.sort((r,s)=>r.width-s.width);let t=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.width===t&&e.splice(r,1),t=s.width}}function Ae(e){let t;return()=>t||(t=typeof e=="function"?e():e,t)}const Ce=Pe({keyMap:{format:"f",width:"w",height:"h",resize:"s",quality:"q",background:"b",position:"pos"},formatter:(e,t)=>C(e)+"_"+C(t.toString())}),Be=Ae({validateDomains:!0,supportsAlias:!0,getImage(e,{modifiers:t,baseURL:r},s){t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const n=Ce(t)||"_";return r||(r=z(s.options.nuxt.baseURL,"/_ipx")),{url:z(r,n,ie(e).replace(/\/{2,}/g,"/"))}}}),We={screens:{sm:640,md:768,lg:1024,xl:1280,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"],provider:"ipxStatic",providers:{ipxStatic:{setup:Be,defaults:{}}}},Q=e=>{const t=ae(),r=F();return r.$img||r._img||(r._img=je({...We,event:r.ssrContext?.event,nuxt:{baseURL:t.app.baseURL},runtimeConfig:t}))};function Oe(e){performance?.mark?.("mark_feature_usage",{detail:{feature:e}})}const Ve=e=>{const t=Q(),r=_(()=>({provider:e.provider,preset:e.preset})),s=_(()=>({width:j(e.width),height:j(e.height),crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,nonce:e.nonce})),n=_(()=>({...e.modifiers,width:e.width,height:e.height,format:e.format,quality:e.quality||t.options.quality,background:e.background,fit:e.fit}));return{providerOptions:r,normalizedAttrs:s,imageModifiers:n}},Ee=["src"],Re={__name:"NuxtImg",props:{custom:{type:Boolean,required:!1},placeholder:{type:[Boolean,String,Number,Array],required:!1},placeholderClass:{type:String,required:!1},src:{type:String,required:!1},format:{type:String,required:!1},quality:{type:[String,Number],required:!1},background:{type:String,required:!1},fit:{type:String,required:!1},modifiers:{type:Object,required:!1},preset:{type:String,required:!1},provider:{type:null,required:!1},sizes:{type:[String,Object],required:!1},densities:{type:String,required:!1},preload:{type:[Boolean,Object],required:!1},width:{type:[String,Number],required:!1},height:{type:[String,Number],required:!1},crossorigin:{type:[String,Boolean],required:!1},nonce:{type:String,required:!1}},emits:["load","error"],setup(e,{expose:t,emit:r}){const s=e,n=r,i=Q(),{providerOptions:a,normalizedAttrs:o,imageModifiers:p}=Ve(s),c=_(()=>i.getSizes(s.src,{...a.value,sizes:s.sizes,densities:s.densities,modifiers:p.value})),m=M(!1),d=le(),y=_(()=>({...o.value,"data-nuxt-img":"",...!s.placeholder||m.value?{sizes:c.value.sizes,srcset:c.value.srcset}:{},...d})),$=_(()=>{if(m.value)return!1;const l=s.placeholder===""?[10,10]:s.placeholder;if(!l)return!1;if(typeof l=="string")return l;const[h=10,J=h,X=50,Y=3]=Array.isArray(l)?l:typeof l=="number"?[l]:[];return i(s.src,{...p.value,width:h,height:J,quality:X,blur:Y},a.value)}),k=_(()=>s.sizes?c.value.src:i(s.src,p.value,a.value)),P=_(()=>$.value||k.value),q=F().isHydrating,g=ce("imgEl");return t({imgEl:g}),de(()=>{if($.value||s.custom){const l=new Image;k.value&&(l.src=k.value),s.sizes&&(l.sizes=c.value.sizes||"",l.srcset=c.value.srcset),l.decode?l.decode().then(()=>{m.value=!0,n("load",new Event("load"))}).catch(h=>{n("error",h)}):(l.onload=h=>{m.value=!0,n("load",h)},l.onerror=h=>{n("error",h)}),Oe("nuxt-image");return}g.value&&(g.value.complete&&q&&(g.value.getAttribute("data-error")?n("error",new Event("error")):n("load",new Event("load"))),g.value.onload=l=>{n("load",l)},g.value.onerror=l=>{n("error",l)})}),(l,h)=>e.custom?ue(l.$slots,"default",me(B({key:1},{imgAttrs:y.value,isLoaded:m.value,src:P.value}))):(v(),x("img",B({key:0,ref_key:"imgEl",ref:g,class:$.value?e.placeholderClass:void 0},y.value,{src:P.value}),null,16,Ee))}},Te=Object.assign(Re,{__name:"NuxtImg"}),Ue={class:"flex flex-col gap-3 rounded-xl bg-white p-3 shadow-sm dark:bg-[#1C252E]"},Fe={class:"flex items-center justify-center"},He={class:"flex flex-col gap-3 p-1"},De={class:"flex justify-end"},Ge={class:"inline-flex capitalize items-center gap-1.5 rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800 dark:bg-green-900/50 dark:text-green-300"},Ke={class:"flex items-start justify-between"},Qe={class:"text-base font-bold leading-normal text-slate-900 dark:text-white"},Je={class:"text-sm font-normal leading-normal text-slate-500 dark:text-slate-400"},Xe={class:"flex items-center justify-between"},Ye={class:"text-sm text-slate-500 dark:text-slate-400"},Ze={class:"font-semibold text-slate-700 dark:text-slate-200"},et={class:"flex items-center gap-1"},tt=I({__name:"PropertyCard",props:["item"],setup(e){const t=r=>r.split("_").join(" ");return(r,s)=>{const n=Te,i=E;return v(),x("div",Ue,[u("div",Fe,[b(n,{format:"webp",src:e.item.images[0],alt:e.item.name,width:"200",height:"50",class:"w-full object-cover",preload:""},null,8,["src","alt"])]),u("div",He,[u("div",De,[u("div",Ge,[s[0]||(s[0]=u("span",{class:"h-1.5 w-1.5 rounded-full bg-green-500 dark:bg-green-400"},null,-1)),S(" "+w(t(e.item.status)),1)])]),u("div",Ke,[u("div",null,[u("p",Qe,w(e.item.name),1),u("p",Je,w(e.item.type),1)])]),s[3]||(s[3]=u("div",{class:"h-px w-full bg-slate-200 dark:bg-slate-700"},null,-1)),u("div",Xe,[u("div",Ye,[s[1]||(s[1]=S("Rent: ",-1)),u("span",Ze,"MWK "+w(e.item.coldRent)+"/mo",1)]),u("div",et,[b(i,{to:`/property/${e.item.slug}`,class:"text-body bg-neutral-primary border border-default hover:bg-neutral-secondary-soft hover:text-heading focus:ring-4 focus:ring-neutral-tertiary font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none"},{default:R(()=>[...s[2]||(s[2]=[u("span",{class:"text-md"},"Edit",-1)])]),_:1},8,["to"])])])])])}}}),st=Object.assign(tt,{__name:"ProfilePropertyCard"}),rt={key:0},nt={class:"py-4 flex flex-row justify-between items-center gap-2"},ot={class:"text-sm text-pottery-light-text dark:text-pottery-dark-text"},it={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2"},at=I({__name:"PropertyGrid",props:["filteredItemList"],setup(e){const t=e,r=_(()=>t.filteredItemList),s=M(1),n=M(5),i=_(()=>Math.ceil(o.value.length/n.value)),a=_(()=>{const m=(s.value-1)*n.value;return o.value.slice(m,m+n.value)}),o=_(()=>r.value);function p(){s.value<i.value&&s.value++}function c(){s.value>1&&s.value--}return(m,d)=>{const y=st,$=ge,k=D;return f(o).length!=0?(v(),x("div",rt,[u("div",nt,[u("p",ot,[d[1]||(d[1]=S(" Showing ",-1)),u("span",null,w(f(s)*f(n)-(f(n)-1)),1),d[2]||(d[2]=S(" to ",-1)),u("span",null,w(f(s)*f(n)>f(o).length?f(o).length:f(s)*f(n)),1),d[3]||(d[3]=S(" (of ",-1)),u("span",null,w(f(o).length),1),d[4]||(d[4]=S(") ",-1))])]),u("div",it,[(v(!0),x(T,null,U(f(a),(P,q)=>(v(),N(y,{item:P},null,8,["item"]))),256))]),b($,{modelValue:f(n),"onUpdate:modelValue":d[0]||(d[0]=P=>H(n)?n.value=P:null),currentPage:f(s),totalPages:f(i),onNextPageHandler:p,onPrevPageHandle:c},null,8,["modelValue","currentPage","totalPages"])])):(v(),N(k,{key:1}))}}}),lt=Object.assign(at,{__name:"ProfilePropertyGrid"}),ct={class:"flex pb-2 w-full justify-end"},dt={key:0,class:"container flex items-start"},ut={class:"w-full"},mt={class:"flex items-center justify-between w-full gap-4 my-4 md:gap-8"},ft="status",gt=I({__name:"OwnerProperty",setup(e){const{listedProperties:t}=pe(),r=_(()=>t.value.length>0),s=["taken","vacant","maintenance"],n=M([]);return(i,a)=>{const o=ve,p=we,c=lt,m=D;return v(),x("div",null,[u("div",ct,[b(o,{text:"+ Add Property",path:"/property/new"})]),f(r)?(v(),x("div",dt,[u("div",ut,[u("div",mt,[b(p,{category:ft,options:s,itemsList:f(t),modelValue:f(n),"onUpdate:modelValue":a[0]||(a[0]=d=>H(n)?n.value=d:null)},null,8,["itemsList","modelValue"])]),b(c,{filteredItemList:f(n)?f(n):f(t)},null,8,["filteredItemList"])])])):(v(),N(m,{key:1}))])}}}),pt=Object.assign(gt,{__name:"ProfileOwnerProperty"}),ht={},_t={class:"mt-10 p-2"},vt={class:"flex pb-2 w-full justify-between"};function yt(e,t){const r=Z,s=pt;return v(),x("div",_t,[u("div",vt,[b(r,{routePath:"/account"}),t[0]||(t[0]=u("h1",{class:"text-2xl font-bold py-4"},"My Properties",-1))]),b(s)])}const jt=fe(ht,[["render",yt]]);export{jt as default};
