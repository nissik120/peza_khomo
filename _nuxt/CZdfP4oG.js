import{g as S,G as k,I as A,r as c,c as a,o as i,a as t,m as e,l as m,t as n,d as l,k as x,L as P,s as y,F as L,p as C,v as N,_ as O,b as V}from"./BogysZ3r.js";import{c as B}from"./D3BlEqpE.js";import{u as h}from"./rBZ9BGYi.js";import"./-cNX8MFJ.js";import"./CH9fIdmj.js";const j={class:"max-w-4xl mx-auto p-4 md:p-8 space-y-6"},F={class:"flex justify-between items-center"},M={key:0},R={class:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100"},E=["src"],I={class:"p-6 space-y-4"},U={class:"text-2xl font-semibold text-gray-800"},$={class:"text-gray-600"},D={class:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm text-gray-700"},T={key:0,class:"bg-gray-50 rounded-xl shadow-md p-6 border border-gray-200 space-y-4"},G={key:0,class:"grid sm:grid-cols-2 gap-4 text-gray-700"},K={class:"bg-white rounded-xl shadow-md p-6 border border-gray-100 space-y-4"},W={class:"space-y-2"},q=["value"],z={class:"space-y-2"},H={key:1,class:"text-center text-gray-500 py-8"},J=S({__name:"OwnerPropertyApplication",setup(f){const{getApplicationBySlug:g,updateApplicationStatus:p}=h(),b=k(),v=A().params.slug,o=g(v),d=c(o?.status??"pending"),u=c(""),_=B,w=()=>{o&&p(o.slug,d.value)};return(st,s)=>(i(),a("div",j,[t("div",F,[s[3]||(s[3]=t("h1",{class:"text-2xl font-semibold"},"Edit Application",-1)),t("button",{onClick:s[0]||(s[0]=r=>e(b).back()),class:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300"}," â† Back ")]),e(o)?(i(),a("div",M,[t("div",R,[t("img",{src:e(o).image,alt:"Property",class:"w-full h-64 object-cover"},null,8,E),t("div",I,[t("h1",U,n(e(o).title),1),t("p",$,n(e(o).description),1),t("div",D,[t("p",null,[s[4]||(s[4]=t("strong",null,"Location:",-1)),l(" "+n(e(o).location),1)]),t("p",null,[s[5]||(s[5]=t("strong",null,"Category:",-1)),l(" "+n(e(o).category),1)]),t("p",null,[s[6]||(s[6]=t("strong",null,"Price:",-1)),l(" MWK "+n(e(o).price.toLocaleString()),1)]),t("p",null,[s[7]||(s[7]=t("strong",null,"Status:",-1)),l(" "+n(e(o).status),1)]),t("p",null,[s[8]||(s[8]=t("strong",null,"Latitude:",-1)),l(" "+n(e(o).coordinates.lat.toFixed(4)),1)]),t("p",null,[s[9]||(s[9]=t("strong",null,"Longitude:",-1)),l(" "+n(e(o).coordinates.lng.toFixed(4)),1)])])])]),e(o)?(i(),a("div",T,[s[14]||(s[14]=t("h2",{class:"text-lg font-semibold text-gray-800"}," Applicant Information ",-1)),e(o).applicant?(i(),a("div",G,[t("p",null,[s[10]||(s[10]=t("strong",null,"Name:",-1)),l(" "+n(e(o).applicant.name),1)]),t("p",null,[s[11]||(s[11]=t("strong",null,"Phone:",-1)),l(" "+n(e(o).applicant.phone),1)]),t("p",null,[s[12]||(s[12]=t("strong",null,"Email:",-1)),l(" "+n(e(o).applicant.email),1)]),t("p",null,[s[13]||(s[13]=t("strong",null,"Submitted:",-1)),l(" "+n(e(o).applicant.submitted),1)])])):m("",!0)])):m("",!0),t("div",K,[s[17]||(s[17]=t("h2",{class:"text-lg font-semibold text-gray-800"},"Application Review",-1)),t("div",W,[s[15]||(s[15]=t("label",{for:"status",class:"text-sm font-medium text-gray-700"},"Application Status",-1)),x(t("select",{id:"status","onUpdate:modelValue":s[1]||(s[1]=r=>y(d)?d.value=r:null),class:"w-full border rounded-lg px-4 py-2 text-gray-700 focus:ring-2 focus:ring-blue-400 focus:outline-none"},[(i(!0),a(L,null,C(e(_),r=>(i(),a("option",{key:r,value:r},n(r.charAt(0).toUpperCase()+r.slice(1)),9,q))),128))],512),[[P,e(d)]])]),t("div",z,[s[16]||(s[16]=t("label",{for:"message",class:"text-sm font-medium text-gray-700"},"Message / Notes",-1)),x(t("textarea",{id:"message","onUpdate:modelValue":s[2]||(s[2]=r=>y(u)?u.value=r:null),rows:"4",maxlength:"1500",class:"w-full border rounded-lg px-4 py-2 text-gray-700 focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"Optional: Add a comment for this application (e.g., reason for rejection, special conditions)..."},null,512),[[N,e(u)]])]),t("button",{onClick:w,class:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition"}," Save Status ")])])):(i(),a("div",H,"Loading property..."))]))}}),Q=Object.assign(J,{__name:"ProfileOwnerPropertyApplication"}),X={},Y={class:"mt-10"};function Z(f,g){const p=Q;return i(),a("div",Y,[V(p)])}const at=O(X,[["render",Z]]);export{at as default};
