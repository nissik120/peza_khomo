import{u as m}from"./-cNX8MFJ.js";import{u as p}from"./CH9fIdmj.js";import{M as d,q as l}from"./BogysZ3r.js";const w=()=>{const{authStatus:i}=m(),{profile:o}=p(),t=d("prop-applications",()=>[]),s=l(()=>i?t.value.filter(e=>e.reviewer.email===o.value.email):[]),u=l(()=>i?t.value.filter(e=>e.applicant?.email===o.value.email):[]);function c(e){return t.value.find(n=>n.slug===e)}function r(e,n){t.value=t.value.map(a=>a.slug===e?{...a,status:n}:a),console.log(t.value)}return{listedApplications:t,outgoingApplications:u,incomingApplications:s,getStatusColor:e=>{switch(e){case"Approved":return"text-green-600";case"Pending":return"text-yellow-500";case"Delivered":return"text-blue-600";case"Rejected":return"text-red-500";default:return""}},getApplicationBySlug:c,createApplicationSubmission:(e,n)=>{const a={id:crypto.randomUUID(),slug:e.slug,title:e.name,description:e.description??"",price:e.warmRent??e.coldRent,location:e.address,category:e.type==="rent"?"Rental Property":"Property for Sale",image:e.images?.[0]??"",coordinates:e.geoLocation??{lat:0,lng:0},status:"Pending",reviewer:{name:e.ownerContact.name,phone:e.ownerContact.phone,email:e.ownerContact.email},applicant:{name:n.name,phone:n.phone,email:n.email,submitted:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}};t.value.push(a)},updateApplicationStatus:r}};export{w as u};
